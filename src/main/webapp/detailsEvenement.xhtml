<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:b="http://bootsfaces.net/ui"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:c="http://java.sun.com/jsp/jstl/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
>

	<h:head>
		<title>JSF WEB APP</title>
		<link rel="stylesheet" href="style.css"/>
	</h:head>
	
	<h:body>
		<ui:include src="/navBar.xhtml"></ui:include>
	
		<div class="gap-left gap-right">
			<h1 class="text-center">Détails de #{evenementController.event.titre}</h1>						<BR/>
			
			<div class="pull-left gap-right">
			<h3>Photos :</h3>
				<b:carousel id="tiovivo" style="width:300px" interval="2500" >
					<c:forEach var="img" items="#{evenementController.event.images}">
						<b:carouselItem>
  							<img src="data:image/jpg;base64,#{img.image}" style="width: 300px; height:300px"></img>
  						</b:carouselItem>
					</c:forEach>
				</b:carousel>
				<b>Objectif : </b>		#{evenementController.event.objectif}									<BR/>
				<b>Recolte : </b>		#{evenementController.event.recolte}												<BR/>
				<b>Date : </b>		#{evenementController.event.dateEv}												<BR/>
				<b>Recolte : </b>		#{evenementController.event.recolte}											<BR/>
				<b>Lieu : </b>		#{evenementController.event.lieu}												<BR/><br/>
			
				#{evenementController.event.resume}
			</div>
			
			<div class="pull-center">
			<h3>Faites un don :</h3>
				<b:flyOutMenu width="50px" style="padding: 30px;">
					<h:form inline="true">
			  			<h:panelGrid columns="2">
					 		<b:inputText label="Nom donateur : " value="#{evenementController.nomDonateur}"></b:inputText>		<BR />
					 		<b:inputText label="Montant : " value="#{evenementController.montant}"></b:inputText>				<BR />
			  			</h:panelGrid>
			  			
						<b:commandButton value="Payer" action="#{evenementController.doAjouterParticipation()}"></b:commandButton>	<BR /><BR />
						
						<b:label value="Date du jour : ">#{evenementController.afficherDateDuJour()}</b:label>
					</h:form>
				</b:flyOutMenu>
			</div>
			
			<div class="pull-right">
				<h3>Derniers dons :</h3>
				<b:carousel style="width:300px" interval="2500" >
					<c:forEach var="part" items="#{evenementController.lastParts}">
						<b:carouselItem>
							<p align="center"><b>Nom : </b>#{part.nomDonateur}</p>
  							<p align="center"><b>Montant : </b>#{part.montant} €</p>
  						</b:carouselItem>
					</c:forEach>
				</b:carousel>
			</div>
			
			<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
			<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
			<div class="pull-left">
				<b>Partagez!</b><br/>
				<b:socialShare shares="twitter,linkedin,facebook" url="http://54.76.209.52:5080/groupeB5"
	               showLabel="true" show-count="false"
	               text="Faites un don pour MSF!"  block-message="Click to unblock the share buttons" />
			</div>
			<BR/><BR/>
			
			<b:dataTable value = "#{evenementController.doAfficherParticipation()}" var = "part">
			    
			    <b:dataTableColumn>
			      <f:facet name = "header">Donateur</f:facet>
			      #{part.nomDonateur}
			   </b:dataTableColumn>
			    
			    <b:dataTableColumn>
			      <f:facet name = "header">Montant</f:facet>
			      #{part.montant}
			   </b:dataTableColumn>
			    
			    <b:dataTableColumn>
			      <f:facet name = "header">DateDon</f:facet>
			      #{part.getDateDonFormat()}
			   </b:dataTableColumn>
				
			</b:dataTable>
		</div>
		
</h:body>
	
</html>